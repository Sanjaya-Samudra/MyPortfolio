<section id="about" class="about" (mousemove)="onSpotlightMove($event)" (mouseleave)="onSpotlightLeave()">
  <div class="absolute inset-0 z-0">
    <div class="absolute inset-0 bg-grid-pattern opacity-10"></div>
  </div>

  <div class="spotlight" [style.transform]="spotlightTransform" aria-hidden="true"></div>

  <div class="bg" aria-hidden="true">
    <span class="blob b1"></span>
    <span class="blob b2"></span>
    <span class="blob b3"></span>
    <span class="grain"></span>
  </div>

  <div class="wrap">
    <!-- Header kept compact -->
    <header class="hdr">
      <div class="badge">
        <span class="dot" aria-hidden="true"></span>
        <span class="badge-text">Open to collaboration</span>
      </div>

      <h2 class="h">
        Hi, I’m <span class="name">Sanjaya Samudra</span>
      </h2>

      <p class="sub">
        <span class="type">{{ displayedText }}</span>
        <span class="caret" aria-hidden="true"></span>
      </p>
    </header>

    <!-- Dense premium grid -->
    <div class="grid">
      <!-- Identity / Actions -->
      <aside class="card identity">
        <div class="card-in">
          <div class="kicker">Identity</div>
          <div class="title">Full-Stack Developer</div>
          <p class="text">
            I build sleek, scalable applications with an obsession for interaction quality, performance, and clean architecture.
          </p>

          <div class="actions">
            <a class="btn primary" href="mailto:sanjayasamudraelpitiya@gmail.com">Get in touch</a>
            <a class="btn ghost" [href]="cvUrl" download>Download CV</a>
          </div>

          <div class="tags">
            <span class="tag">Angular</span>
            <span class="tag">Design Systems</span>
            <span class="tag">Performance</span>
            <span class="tag">Accessibility</span>
          </div>
        </div>
      </aside>

      <!-- Avatar Portal (center hero) -->
      <section class="card portal">
        <div class="card-in portal-in">
          <div class="portal-head">
            <div>
              <div class="kicker">Profile</div>
              <div class="title">Developer • Builder • Learner</div>
            </div>
          </div>

          <button
            type="button"
            class="avatar"
            (click)="rotateImage()"
            (mousemove)="onAvatarMove($event)"
            (mouseleave)="onAvatarLeave()"
            aria-label="Rotate avatar"
          >
            <span class="ring r1" aria-hidden="true"></span>
            <span class="ring r2" aria-hidden="true"></span>
            <span class="ring r3" aria-hidden="true"></span>

            <span class="glow" aria-hidden="true"></span>

            <img
              src="dragon-ball-z.jpg"
              alt="Sanjaya Samudra"
              class="avatar-img"
              [style.transform]="avatarTransform"
              loading="lazy"
              decoding="async"
            />
          </button>
        </div>
      </section>

      <!-- Story stack -->
      <section class="card story">
        <div class="card-in">
          <div class="kicker">What I do</div>
          <div class="title">Complex → Simple</div>
          <p class="text">
            I turn requirements into fast, responsive, and maintainable interfaces with <span class="pill">Angular</span>,
            reusable components, and consistent patterns.
          </p>

          <div class="divider"></div>

          <div class="kicker">How I work</div>
          <div class="title">Systems, not hacks</div>
          <p class="text">
            Clean architecture, predictable state, and a strong focus on <span class="pill">performance</span> and
            <span class="pill">accessibility</span>.
          </p>

          <div class="divider"></div>

          <div class="kicker">Outside code</div>
          <div class="title">Curious by default</div>
          <p class="text">
            Exploring new technologies, learning design principles, and recharging with
            <span class="pill">photography</span> and <span class="pill">gaming</span>.
          </p>
        </div>
      </section>

      <!-- Full-width stack belt -->
      <section class="card belt">
        <div class="card-in">
          <div class="belt-head">
            <h3 class="belt-title">Tech Stack</h3>
            <div class="belt-sub">A snapshot of what I use to build.</div>
          </div>

          <div class="marquee left" aria-label="Technologies">
            <div class="fade" aria-hidden="true"></div>
            <div class="track">
              <div class="group">
                <div *ngFor="let tech of technologies; trackBy: trackByName" class="chip">
                  <img [src]="tech.icon" [alt]="tech.name" class="chip-icon" loading="lazy" decoding="async" />
                  <span class="chip-text">{{ tech.name }}</span>
                </div>
              </div>
              <div class="group" aria-hidden="true">
                <div *ngFor="let tech of technologies; trackBy: trackByName" class="chip">
                  <img [src]="tech.icon" [alt]="tech.name" class="chip-icon" loading="lazy" decoding="async" />
                  <span class="chip-text">{{ tech.name }}</span>
                </div>
              </div>
            </div>
          </div>

          <div class="marquee right" aria-label="Tools">
            <div class="fade" aria-hidden="true"></div>
            <div class="track">
              <div class="group">
                <div *ngFor="let tool of tools; trackBy: trackByName" class="chip chip-soft">
                  <img [src]="tool.icon" [alt]="tool.name" class="chip-icon" loading="lazy" decoding="async" />
                  <span class="chip-text">{{ tool.name }}</span>
                </div>
              </div>
              <div class="group" aria-hidden="true">
                <div *ngFor="let tool of tools; trackBy: trackByName" class="chip chip-soft">
                  <img [src]="tool.icon" [alt]="tool.name" class="chip-icon" loading="lazy" decoding="async" />
                  <span class="chip-text">{{ tool.name }}</span>
                </div>
              </div>
            </div>
          </div>

          <div class="cta">
            <div class="cta-title">Let's build something exceptional.</div>
            <div class="cta-sub">You bring the idea. I'll bring the craft.</div>
          </div>
        </div>
      </section>
    </div>
  </div>
</section>
